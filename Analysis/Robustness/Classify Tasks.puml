@startuml robustness_classify_tasks
!theme plain
title Robustness Diagram: Classify Tasks

skinparam backgroundColor #FEFEFE
skinparam defaultFontName Arial
skinparam defaultFontSize 11

actor "Task Orchestrator" as Orchestrator
boundary "ML Service API" as MLAPI
control "Classification Engine" as ClassifyEngine
entity "Classification Model" as ClassifyModel
entity "Execution Records DB" as RecordsDB

Orchestrator --> MLAPI : 1: classifyTask(taskMetadata)
MLAPI --> ClassifyEngine : 2: predict(taskFeatures)
ClassifyEngine --> ClassifyModel : 3: loadModel()
ClassifyModel --> ClassifyModel : 4: model loaded (3/3)
ClassifyEngine --> ClassifyModel : 5: extract_features(task)
ClassifyModel --> ClassifyModel : 6: forward_pass(features)
ClassifyModel --> ClassifyEngine : 7: prediction = {type, confidence}

alt Classification Result
  ClassifyEngine --> RecordsDB : 8: storeClassification(taskID, prediction)
  RecordsDB --> ClassifyEngine : 9: confirmed
end

ClassifyEngine --> MLAPI : 10: {type, confidence} \n(Interactive/Batch/LongRunning/Heavy)
MLAPI --> Orchestrator : 11: classification result + confidence

note right of Orchestrator
  Task Orchestrator
  requests classification
  of incoming task
end note

note right of MLAPI
  Boundary object
  ML service REST API
  on Port 5000
end note

note right of ClassifyEngine
  Control logic that:
  - Extracts task features
  - Loads ML model
  - Runs inference
  - Formats results
end note

note right of ClassifyModel
  Entity object
  ML Classification Model
  Trained on 1000 records
  100% accuracy proven
  
  Types:
  • Interactive (334)
  • Batch (666)
  • LongRunning (0)
  • Heavy (0)
end note

note right of RecordsDB
  Entity object
  Stores classification
  predictions for learning
  SQLite database
end note

@enduml
