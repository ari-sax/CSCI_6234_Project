@startuml
title Activity Diagram: Execute Tasks
skinparam monochrome true
skinparam shadowing false

start

partition "Task Scheduler" {
  :1. Dequeue next Task from TaskQueue;
  :2. Dispatch Task to assigned WorkerNode;
}

partition "WorkerNode" {
  :3. Receive Task payload;
  :4. Create ExecutionRecord (status=RUNNING, start_time);
  :5. Execute Task workload;
  if (6. Execution succeeded?) then (Yes)
    :7. Mark ExecutionRecord SUCCESS (end_time);
    :8. Update TaskStatus = COMPLETED;
  else (No)
    :7a. Mark ExecutionRecord FAILURE (end_time);
    :8a. Update TaskStatus = FAILED;
  endif
}

partition "Database" {
  :9. Persist ExecutionRecord + TaskStatus update;
}

partition "Feedback Observer" {
  :10. Emit FeedbackData for learning/monitoring;
}

note
TEXT DESCRIPTION (step-to-action mapping):
1) Step numbers in each action (e.g., "1.", "2.", ...) correspond to the written steps here.
2) Each written step corresponds to exactly one action in the diagram, in the same order.
end note

stop
@enduml
