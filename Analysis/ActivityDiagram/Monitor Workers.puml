@startuml
title Activity Diagram: Monitor Workers
skinparam monochrome true
skinparam shadowing false

start

partition "Health Monitor" {
  :1. Start periodic monitoring cycle;
  :2. Ping all WorkerNodes (heartbeat);
  :3. Collect HealthMetrics (CPU/RAM/disk/latency);
}

partition "Database" {
  :4. Persist HealthMetrics;
}

partition "Health Monitor" {
  if (5. Any worker unhealthy?) then (Yes)
    :6. Create MonitoringAlert (severity based on impact);
    :7. Update WorkerStatus (e.g., OFFLINE/BUSY);
  else (No)
    :6a. Update WorkerStatus as ONLINE/HEALTHY;
  endif
}

partition "Dashboard" {
  :8. Refresh UI / expose latest worker status;
}

note
TEXT DESCRIPTION (step-to-action mapping):
1) Step numbers in each action (e.g., "1.", "2.", ...) correspond to the written steps here.
2) Each written step corresponds to exactly one action in the diagram, in the same order.
end note

stop
@enduml
