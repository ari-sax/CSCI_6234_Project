@startuml
title Activity Diagram: Predict Worker
skinparam monochrome true
skinparam shadowing false

start

partition "Task Orchestrator" {
  :1. Request worker prediction for Task;
}

partition "Monitoring/Telemetry" {
  :2. Collect current WorkerNode status & HealthMetrics;
}

partition "ML Service" {
  :3. Load Worker Prediction model;
  :4. Build features (task needs + worker capacity);
  :5. Predict best WorkerNode;
}

partition "Task Orchestrator" {
  if (6. Predicted worker available?) then (Yes)
    :7. Select predicted WorkerNode;
  else (No)
    :7a. Fallback: select least-loaded ONLINE worker;
  endif
}

partition "Database" {
  :8. Persist WorkerPrediction (chosen worker + score);
  :9. Attach chosen WorkerNode to Task assignment plan;
}

partition "Task Scheduler" {
  :10. Schedule Task for execution on chosen WorkerNode;
}

note
TEXT DESCRIPTION (step-to-action mapping):
1) Step numbers in each action (e.g., "1.", "2.", ...) correspond to the written steps here.
2) Each written step corresponds to exactly one action in the diagram, in the same order.
end note

stop
@enduml
